!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{zFnc:function(i,o,n){"use strict";n.r(o),n.d(o,"EditPageModule",(function(){return M}));var l=n("ofXK"),r=n("3Pt+"),b=n("TEn/"),a=n("tyNb"),c=n("mrSG"),s=n("fXoL"),u=n("dVwY"),p=n("Bfh1");function h(t,e){if(1&t&&(s.Mb(0,"div"),s.Ib(1,"ion-img",19),s.Lb()),2&t){var i=s.Vb();s.xb(1),s.Yb("src",i.image)}}var g,d,f,v=[{path:"",component:(g=function(){function i(e,o,n,l,r){var b=this;t(this,i),this.gs=e,this.geolocation=o,this.alertController=n,this.router=l,this.route=r,this.imageFlag=!1,this.imgHeight=600,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.ccpp=0,this.python=0,this.web=0,this.server=0,this.native=0,this.iot=0,this.ccppFill="outline",this.pythonFill="outline",this.webFill="outline",this.serverFill="outline",this.nativeFill="outline",this.iotFill="outline",this.loadPicture=function(t){console.log(t);var e=t.srcElement.files[0],i=new FileReader,o=new Image;i.onloadend=function(){o.onload=function(){console.log("Image Processing");var t=o.src.substring(5,o.src.indexOf(";")),e=o.width*(b.imgHeight/o.height),i=document.createElement("canvas");i.width=e,i.height=b.imgHeight,i.getContext("2d").drawImage(o,0,0,e,b.imgHeight),b.image=i.toDataURL(t),console.log(b.image)},o.src=i.result,b.imageFlag=!0},e&&i.readAsDataURL(e)},this.postArticle=function(){b.geolocation.getCurrentPosition().then((function(t){b.latitude=t.coords.latitude,b.longitude=t.coords.longitude,b.postObj.id=localStorage.id,b.postObj.article_id=b.article_id,b.postObj.prefecture=localStorage.prefecture,b.postObj.latitude=b.latitude,b.postObj.longitude=b.longitude,b.postObj.title=b.title,b.postObj.text=b.text,b.postObj.image=b.image;var e=0;b.imageFlag&&(e=1),b.postObj.image_check=e,b.postObj.ccpp=b.ccpp,b.postObj.python=b.python,b.postObj.web=b.web,b.postObj.server=b.server,b.postObj.native=b.native,b.postObj.iot=b.iot,b.postObj.attribute=localStorage.attribute,b.postObj.hash=localStorage.hash,b.gs.http("https://kn46itblog.com/hackathon/winter2020/php_apis/registerDiaryArticle.php",b.postObj).subscribe((function(t){console.log(t),b.navigate(),b.alertPost()}),(function(t){return console.error(t)}))}),(function(t){return console.error(t)}))},this.navigate=function(){b.router.navigate(["/tabs","tab"+b.tab,"edited"])},this.onGrid=function(t){console.log("ON GRID!!"),"ccpp"==t.target.id?0==b.ccpp?(b.ccppFill="solid",b.ccpp=1):(b.ccppFill="outline",b.ccpp=0):"python"==t.target.id?0==b.python?(b.pythonFill="solid",b.python=1):(b.pythonFill="outline",b.python=0):"web"==t.target.id?0==b.web?(b.webFill="solid",b.web=1):(b.webFill="outline",b.web=0):"server"==t.target.id?0==b.server?(b.serverFill="solid",b.server=1):(b.serverFill="outline",b.server=0):"native"==t.target.id?0==b.native?(b.nativeFill="solid",b.native=1):(b.nativeFill="outline",b.native=0):"iot"==t.target.id&&(0==b.iot?(b.iotFill="solid",b.iot=1):(b.iotFill="outline",b.iot=0))}}var o,n,l;return o=i,(n=[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.tab=e.tab}),(function(t){return console.error(t)}))}},{key:"alertPost",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}}])&&e(o.prototype,n),l&&e(o,l),i}(),g.\u0275fac=function(t){return new(t||g)(s.Hb(u.a),s.Hb(p.a),s.Hb(b.a),s.Hb(a.g),s.Hb(a.a))},g.\u0275cmp=s.Bb({type:g,selectors:[["app-edit"]],decls:45,vars:9,consts:[["slot","start"],["id","back"],[1,"button-area","ion-padding"],["for","file-button","id","file-button-label"],["type","file","accept","image/*","id","file-button",3,"change"],[4,"ngIf"],["id","category-center",1,"ion-text-center","ion-padding-top"],[3,"click"],["id","ccpp","expand","block","color","ccpp-three",3,"fill"],["id","python","expand","block","color","python-three",3,"fill"],["id","web","expand","block","color","web-three",3,"fill"],["id","server","expand","block","color","server-three",3,"fill"],["id","native","expand","block","color","native-three",3,"fill"],["id","iot","expand","block","color","iot-three",3,"fill"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["id","post-article-button","type","submit","expand","block","color","base-green"],["id","image",3,"src"]],template:function(t,e){1&t&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",0),s.Ib(3,"ion-back-button",1),s.Lb(),s.Mb(4,"ion-title"),s.hc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"div",2),s.Mb(8,"label",3),s.hc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),s.Lb(),s.Mb(10,"input",4),s.Tb("change",(function(t){return e.loadPicture(t)})),s.Lb(),s.Lb(),s.gc(11,h,2,1,"div",5),s.Mb(12,"div",6),s.hc(13," \u6295\u7a3f\u65e5\u8a8c\u306e\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 "),s.Lb(),s.Mb(14,"ion-grid",7),s.Tb("click",(function(t){return e.onGrid(t)})),s.Mb(15,"ion-row"),s.Mb(16,"ion-col"),s.Mb(17,"ion-button",8),s.hc(18,"C/C++"),s.Lb(),s.Lb(),s.Mb(19,"ion-col"),s.Mb(20,"ion-button",9),s.hc(21,"Python"),s.Lb(),s.Lb(),s.Mb(22,"ion-col"),s.Mb(23,"ion-button",10),s.hc(24,"Web\u7cfb"),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"ion-row"),s.Mb(26,"ion-col"),s.Mb(27,"ion-button",11),s.hc(28,"Server"),s.Lb(),s.Lb(),s.Mb(29,"ion-col"),s.Mb(30,"ion-button",12),s.hc(31,"\u30cd\u30a4\u30c6\u30a3\u30d6"),s.Lb(),s.Lb(),s.Mb(32,"ion-col"),s.Mb(33,"ion-button",13),s.hc(34,"IoT"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(35,"form",14),s.Tb("submit",(function(){return e.postArticle()})),s.Mb(36,"ion-item"),s.Mb(37,"ion-label",15),s.hc(38,"\u30bf\u30a4\u30c8\u30eb"),s.Lb(),s.Mb(39,"ion-input",16),s.Tb("ngModelChange",(function(t){return e.title=t})),s.Lb(),s.Mb(40,"ion-label",15),s.hc(41,"\u672c\u6587"),s.Lb(),s.Mb(42,"ion-textarea",17),s.Tb("ngModelChange",(function(t){return e.text=t})),s.Lb(),s.Lb(),s.Mb(43,"ion-button",18),s.hc(44,"\u6295\u7a3f\u3059\u308b"),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.xb(11),s.Yb("ngIf",e.imageFlag),s.xb(6),s.Yb("fill",e.ccppFill),s.xb(3),s.Yb("fill",e.pythonFill),s.xb(3),s.Yb("fill",e.webFill),s.xb(4),s.Yb("fill",e.serverFill),s.xb(3),s.Yb("fill",e.nativeFill),s.xb(3),s.Yb("fill",e.iotFill),s.xb(6),s.Yb("ngModel",e.title),s.xb(3),s.Yb("ngModel",e.text))},directives:[b.q,b.F,b.f,b.c,b.d,b.E,b.m,l.i,b.p,b.x,b.l,b.e,r.i,r.e,r.f,b.u,b.v,b.t,b.M,r.h,r.d,r.g,b.D,b.s],styles:["#file-button-label[_ngcontent-%COMP%]{text-align:center;font-size:1em;color:#000;background-color:#cbf266;border-radius:10px;padding:12px 30px;display:block;margin-left:auto;margin-right:auto;width:100%}#file-button[_ngcontent-%COMP%]{display:none}#image[_ngcontent-%COMP%]{height:300px}#post-article-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}#category-center[_ngcontent-%COMP%]{font-size:1em;font-weight:700}"]}),g)}],m=((f=function e(){t(this,e)}).\u0275mod=s.Fb({type:f}),f.\u0275inj=s.Eb({factory:function(t){return new(t||f)},imports:[[a.i.forChild(v)],a.i]}),f),M=((d=function e(){t(this,e)}).\u0275mod=s.Fb({type:d}),d.\u0275inj=s.Eb({factory:function(t){return new(t||d)},imports:[[l.b,r.a,b.G,m]]}),d)}}])}();