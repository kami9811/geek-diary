(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{zFnc:function(t,i,e){"use strict";e.r(i),e.d(i,"EditPageModule",(function(){return g}));var o=e("ofXK"),n=e("3Pt+"),s=e("TEn/"),l=e("tyNb"),b=e("mrSG"),r=e("fXoL"),a=e("dVwY"),c=e("Bfh1");function h(t,i){if(1&t&&(r.Kb(0,"div"),r.Ib(1,"ion-img",17),r.Jb()),2&t){const t=r.Tb();r.xb(1),r.Wb("src",t.image)}}const u=[{path:"",component:(()=>{class t{constructor(t,i,e,o,n){this.gs=t,this.geolocation=i,this.alertController=e,this.router=o,this.route=n,this.imageFlag=!1,this.imgHeight=600,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.tabFlag=!1,this.ccpp=0,this.python=0,this.web=0,this.server=0,this.native=0,this.iot=0,this.ccppFill="outline",this.pythonFill="outline",this.webFill="outline",this.serverFill="outline",this.nativeFill="outline",this.iotFill="outline",this.loadPicture=t=>{console.log(t);var i=t.srcElement.files[0],e=new FileReader,o=new Image;e.onloadend=()=>{o.onload=()=>{console.log("Image Processing");const t=o.src.substring(5,o.src.indexOf(";")),i=o.width*(this.imgHeight/o.height),e=document.createElement("canvas");e.width=i,e.height=this.imgHeight,e.getContext("2d").drawImage(o,0,0,i,this.imgHeight),this.image=e.toDataURL(t)},o.src=e.result,this.imageFlag=!0},i&&e.readAsDataURL(i)},this.postArticle=()=>{this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.postObj.id=localStorage.id,this.postObj.article_id=this.article_id,this.postObj.prefecture=localStorage.prefecture,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.postObj.title=this.title,this.postObj.text=this.text,this.postObj.image=this.image,this.postObj.hash=localStorage.hash;const i=this.postObj;1==this.tab?this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",i).subscribe(t=>{console.log(t),this.navigate(),this.alertPost()},t=>console.error(t)):2==this.tab&&this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerTipsArticle.php",i).subscribe(t=>{console.log(t),this.navigate(),this.alertPost()},t=>console.error(t))},t=>console.error(t))},this.navigate=()=>{this.router.navigate(["/tabs","tab"+this.tab,"edited"])}}ngOnInit(){this.route.params.subscribe(t=>{this.tab=t.tab,1==this.tab&&(this.tabFlag=!0)},t=>console.error(t))}alertPost(){return Object(b.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(i){return new(i||t)(r.Hb(a.a),r.Hb(c.a),r.Hb(s.a),r.Hb(l.g),r.Hb(l.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-edit"]],decls:43,vars:3,consts:[["slot","start"],["id","back"],[1,"button-area","ion-padding"],["for","file-button","id","file-button-label"],["type","file","accept","image/*","id","file-button",3,"change"],[4,"ngIf"],["expand","block","fill","outline","color","ccpp-three"],["expand","block","fill","outline","color","pytho-three"],["expand","block","fill","outline","color","web-three"],["expand","block","fill","outline","color","server-three"],["expand","block","fill","outline","color","native-three"],["expand","block","fill","outline","color","iot-three"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["id","post-article-button","type","submit","expand","block","color","base-green"],["id","image",3,"src"]],template:function(t,i){1&t&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Ib(3,"ion-back-button",1),r.Jb(),r.Kb(4,"ion-title"),r.dc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),r.Jb(),r.Jb(),r.Jb(),r.Kb(6,"ion-content"),r.Kb(7,"div",2),r.Kb(8,"label",3),r.dc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),r.Jb(),r.Kb(10,"input",4),r.Rb("change",(function(t){return i.loadPicture(t)})),r.Jb(),r.Jb(),r.cc(11,h,2,1,"div",5),r.Kb(12,"ion-grid"),r.Kb(13,"ion-row"),r.Kb(14,"ion-col"),r.Kb(15,"ion-button",6),r.dc(16,"C/C++"),r.Jb(),r.Jb(),r.Kb(17,"ion-col"),r.Kb(18,"ion-button",7),r.dc(19,"Python"),r.Jb(),r.Jb(),r.Kb(20,"ion-col"),r.Kb(21,"ion-button",8),r.dc(22,"Web\u7cfb"),r.Jb(),r.Jb(),r.Jb(),r.Kb(23,"ion-row"),r.Kb(24,"ion-col"),r.Kb(25,"ion-button",9),r.dc(26,"Server"),r.Jb(),r.Jb(),r.Kb(27,"ion-col"),r.Kb(28,"ion-button",10),r.dc(29,"\u30cd\u30a4\u30c6\u30a3\u30d6"),r.Jb(),r.Jb(),r.Kb(30,"ion-col"),r.Kb(31,"ion-button",11),r.dc(32,"IoT"),r.Jb(),r.Jb(),r.Jb(),r.Jb(),r.Kb(33,"form",12),r.Rb("submit",(function(){return i.postArticle()})),r.Kb(34,"ion-item"),r.Kb(35,"ion-label",13),r.dc(36,"\u30bf\u30a4\u30c8\u30eb"),r.Jb(),r.Kb(37,"ion-input",14),r.Rb("ngModelChange",(function(t){return i.title=t})),r.Jb(),r.Kb(38,"ion-label",13),r.dc(39,"\u672c\u6587"),r.Jb(),r.Kb(40,"ion-textarea",15),r.Rb("ngModelChange",(function(t){return i.text=t})),r.Jb(),r.Jb(),r.Kb(41,"ion-button",16),r.dc(42,"\u6295\u7a3f\u3059\u308b"),r.Jb(),r.Jb(),r.Jb()),2&t&&(r.xb(11),r.Wb("ngIf",i.imageFlag),r.xb(26),r.Wb("ngModel",i.title),r.xb(3),r.Wb("ngModel",i.text))},directives:[s.q,s.F,s.f,s.c,s.d,s.E,s.m,o.i,s.p,s.x,s.l,s.e,n.i,n.e,n.f,s.u,s.v,s.t,s.M,n.h,n.d,n.g,s.D,s.s],styles:["#file-button-label[_ngcontent-%COMP%]{text-align:center;font-size:1em;color:#000;background-color:#cbf266;border-radius:10px;padding:12px 30px;display:block;margin-left:auto;margin-right:auto;width:100%}#file-button[_ngcontent-%COMP%]{display:none}#image[_ngcontent-%COMP%]{height:200px}#post-article-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}"]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[l.i.forChild(u)],l.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[o.b,n.a,s.G,d]]}),t})()}}]);