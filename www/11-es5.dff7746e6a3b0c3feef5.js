!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{zFnc:function(i,n,o){"use strict";o.r(n),o.d(n,"EditPageModule",(function(){return x}));var l=o("ofXK"),r=o("3Pt+"),a=o("TEn/"),b=o("tyNb"),c=o("mrSG"),s=o("fXoL"),u=o("dVwY"),d=o("Bfh1");function p(t,e){if(1&t&&(s.Kb(0,"div"),s.Ib(1,"ion-img",19),s.Jb()),2&t){var i=s.Tb();s.xb(1),s.Wb("src",i.image)}}var g,h,f,v=[{path:"",component:(g=function(){function i(e,n,o,l,r){var a=this;t(this,i),this.gs=e,this.geolocation=n,this.alertController=o,this.router=l,this.route=r,this.imageFlag=!1,this.imgHeight=600,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.tabFlag=!1,this.ccpp=0,this.python=0,this.web=0,this.server=0,this.native=0,this.iot=0,this.ccppFill="outline",this.pythonFill="outline",this.webFill="outline",this.serverFill="outline",this.nativeFill="outline",this.iotFill="outline",this.loadPicture=function(t){console.log(t);var e=t.srcElement.files[0],i=new FileReader,n=new Image;i.onloadend=function(){n.onload=function(){console.log("Image Processing");var t=n.src.substring(5,n.src.indexOf(";")),e=n.width*(a.imgHeight/n.height),i=document.createElement("canvas");i.width=e,i.height=a.imgHeight,i.getContext("2d").drawImage(n,0,0,e,a.imgHeight),a.image=i.toDataURL(t)},n.src=i.result,a.imageFlag=!0},e&&i.readAsDataURL(e)},this.postArticle=function(){a.geolocation.getCurrentPosition().then((function(t){a.latitude=t.coords.latitude,a.longitude=t.coords.longitude,a.postObj.id=localStorage.id,a.postObj.article_id=a.article_id,a.postObj.prefecture=localStorage.prefecture,a.postObj.latitude=a.latitude,a.postObj.longitude=a.longitude,a.postObj.title=a.title,a.postObj.text=a.text,a.postObj.image=a.image,a.postObj.hash=localStorage.hash;var e=a.postObj;1==a.tab?a.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",e).subscribe((function(t){console.log(t),a.navigate(),a.alertPost()}),(function(t){return console.error(t)})):2==a.tab&&a.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerTipsArticle.php",e).subscribe((function(t){console.log(t),a.navigate(),a.alertPost()}),(function(t){return console.error(t)}))}),(function(t){return console.error(t)}))},this.navigate=function(){a.router.navigate(["/tabs","tab"+a.tab,"edited"])},this.onGrid=function(t){console.log("ON GRID!!"),"ccpp"==t.target.id?0==a.ccpp?(a.ccppFill="solid",a.ccpp=1):(a.ccppFill="outline",a.ccpp=0):"python"==t.target.id?0==a.python?(a.pythonFill="solid",a.python=1):(a.pythonFill="outline",a.python=0):"web"==t.target.id?0==a.web?(a.webFill="solid",a.web=1):(a.webFill="outline",a.web=0):"server"==t.target.id?0==a.server?(a.serverFill="solid",a.server=1):(a.serverFill="outline",a.server=0):"native"==t.target.id?0==a.native?(a.nativeFill="solid",a.native=1):(a.nativeFill="outline",a.native=0):"iot"==t.target.id&&(0==a.iot?(a.iotFill="solid",a.iot=1):(a.iotFill="outline",a.iot=0))}}var n,o,l;return n=i,(o=[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.tab=e.tab,1==t.tab&&(t.tabFlag=!0)}),(function(t){return console.error(t)}))}},{key:"alertPost",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}}])&&e(n.prototype,o),l&&e(n,l),i}(),g.\u0275fac=function(t){return new(t||g)(s.Hb(u.a),s.Hb(d.a),s.Hb(a.a),s.Hb(b.g),s.Hb(b.a))},g.\u0275cmp=s.Bb({type:g,selectors:[["app-edit"]],decls:45,vars:9,consts:[["slot","start"],["id","back"],[1,"button-area","ion-padding"],["for","file-button","id","file-button-label"],["type","file","accept","image/*","id","file-button",3,"change"],[4,"ngIf"],["id","category-center",1,"ion-text-center","ion-padding-top"],[3,"click"],["id","ccpp","expand","block","color","ccpp-three",3,"fill"],["id","python","expand","block","color","python-three",3,"fill"],["id","web","expand","block","color","web-three",3,"fill"],["id","server","expand","block","color","server-three",3,"fill"],["id","native","expand","block","color","native-three",3,"fill"],["id","iot","expand","block","color","iot-three",3,"fill"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["id","post-article-button","type","submit","expand","block","color","base-green"],["id","image",3,"src"]],template:function(t,e){1&t&&(s.Kb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Ib(3,"ion-back-button",1),s.Jb(),s.Kb(4,"ion-title"),s.dc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),s.Jb(),s.Jb(),s.Jb(),s.Kb(6,"ion-content"),s.Kb(7,"div",2),s.Kb(8,"label",3),s.dc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),s.Jb(),s.Kb(10,"input",4),s.Rb("change",(function(t){return e.loadPicture(t)})),s.Jb(),s.Jb(),s.cc(11,p,2,1,"div",5),s.Kb(12,"div",6),s.dc(13," \u6295\u7a3f\u65e5\u8a8c\u306e\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 "),s.Jb(),s.Kb(14,"ion-grid",7),s.Rb("click",(function(t){return e.onGrid(t)})),s.Kb(15,"ion-row"),s.Kb(16,"ion-col"),s.Kb(17,"ion-button",8),s.dc(18,"C/C++"),s.Jb(),s.Jb(),s.Kb(19,"ion-col"),s.Kb(20,"ion-button",9),s.dc(21,"Python"),s.Jb(),s.Jb(),s.Kb(22,"ion-col"),s.Kb(23,"ion-button",10),s.dc(24,"Web\u7cfb"),s.Jb(),s.Jb(),s.Jb(),s.Kb(25,"ion-row"),s.Kb(26,"ion-col"),s.Kb(27,"ion-button",11),s.dc(28,"Server"),s.Jb(),s.Jb(),s.Kb(29,"ion-col"),s.Kb(30,"ion-button",12),s.dc(31,"\u30cd\u30a4\u30c6\u30a3\u30d6"),s.Jb(),s.Jb(),s.Kb(32,"ion-col"),s.Kb(33,"ion-button",13),s.dc(34,"IoT"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(35,"form",14),s.Rb("submit",(function(){return e.postArticle()})),s.Kb(36,"ion-item"),s.Kb(37,"ion-label",15),s.dc(38,"\u30bf\u30a4\u30c8\u30eb"),s.Jb(),s.Kb(39,"ion-input",16),s.Rb("ngModelChange",(function(t){return e.title=t})),s.Jb(),s.Kb(40,"ion-label",15),s.dc(41,"\u672c\u6587"),s.Jb(),s.Kb(42,"ion-textarea",17),s.Rb("ngModelChange",(function(t){return e.text=t})),s.Jb(),s.Jb(),s.Kb(43,"ion-button",18),s.dc(44,"\u6295\u7a3f\u3059\u308b"),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(11),s.Wb("ngIf",e.imageFlag),s.xb(6),s.Wb("fill",e.ccppFill),s.xb(3),s.Wb("fill",e.pythonFill),s.xb(3),s.Wb("fill",e.webFill),s.xb(4),s.Wb("fill",e.serverFill),s.xb(3),s.Wb("fill",e.nativeFill),s.xb(3),s.Wb("fill",e.iotFill),s.xb(6),s.Wb("ngModel",e.title),s.xb(3),s.Wb("ngModel",e.text))},directives:[a.q,a.F,a.f,a.c,a.d,a.E,a.m,l.i,a.p,a.x,a.l,a.e,r.i,r.e,r.f,a.u,a.v,a.t,a.M,r.h,r.d,r.g,a.D,a.s],styles:["#file-button-label[_ngcontent-%COMP%]{text-align:center;font-size:1em;color:#000;background-color:#cbf266;border-radius:10px;padding:12px 30px;display:block;margin-left:auto;margin-right:auto;width:100%}#file-button[_ngcontent-%COMP%]{display:none}#image[_ngcontent-%COMP%]{height:200px}#post-article-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}#category-center[_ngcontent-%COMP%]{font-size:1em;font-weight:700}"]}),g)}],m=((f=function e(){t(this,e)}).\u0275mod=s.Fb({type:f}),f.\u0275inj=s.Eb({factory:function(t){return new(t||f)},imports:[[b.i.forChild(v)],b.i]}),f),x=((h=function e(){t(this,e)}).\u0275mod=s.Fb({type:h}),h.\u0275inj=s.Eb({factory:function(t){return new(t||h)},imports:[[l.b,r.a,a.G,m]]}),h)}}])}();