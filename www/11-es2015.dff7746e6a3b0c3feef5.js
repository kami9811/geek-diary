(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{zFnc:function(t,i,e){"use strict";e.r(i),e.d(i,"EditPageModule",(function(){return p}));var o=e("ofXK"),n=e("3Pt+"),l=e("TEn/"),s=e("tyNb"),r=e("mrSG"),b=e("fXoL"),a=e("dVwY"),c=e("Bfh1");function h(t,i){if(1&t&&(b.Kb(0,"div"),b.Ib(1,"ion-img",19),b.Jb()),2&t){const t=b.Tb();b.xb(1),b.Wb("src",t.image)}}const d=[{path:"",component:(()=>{class t{constructor(t,i,e,o,n){this.gs=t,this.geolocation=i,this.alertController=e,this.router=o,this.route=n,this.imageFlag=!1,this.imgHeight=600,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.tabFlag=!1,this.ccpp=0,this.python=0,this.web=0,this.server=0,this.native=0,this.iot=0,this.ccppFill="outline",this.pythonFill="outline",this.webFill="outline",this.serverFill="outline",this.nativeFill="outline",this.iotFill="outline",this.loadPicture=t=>{console.log(t);var i=t.srcElement.files[0],e=new FileReader,o=new Image;e.onloadend=()=>{o.onload=()=>{console.log("Image Processing");const t=o.src.substring(5,o.src.indexOf(";")),i=o.width*(this.imgHeight/o.height),e=document.createElement("canvas");e.width=i,e.height=this.imgHeight,e.getContext("2d").drawImage(o,0,0,i,this.imgHeight),this.image=e.toDataURL(t)},o.src=e.result,this.imageFlag=!0},i&&e.readAsDataURL(i)},this.postArticle=()=>{this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.postObj.id=localStorage.id,this.postObj.article_id=this.article_id,this.postObj.prefecture=localStorage.prefecture,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.postObj.title=this.title,this.postObj.text=this.text,this.postObj.image=this.image,this.postObj.hash=localStorage.hash;const i=this.postObj;1==this.tab?this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",i).subscribe(t=>{console.log(t),this.navigate(),this.alertPost()},t=>console.error(t)):2==this.tab&&this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerTipsArticle.php",i).subscribe(t=>{console.log(t),this.navigate(),this.alertPost()},t=>console.error(t))},t=>console.error(t))},this.navigate=()=>{this.router.navigate(["/tabs","tab"+this.tab,"edited"])},this.onGrid=t=>{console.log("ON GRID!!"),"ccpp"==t.target.id?0==this.ccpp?(this.ccppFill="solid",this.ccpp=1):(this.ccppFill="outline",this.ccpp=0):"python"==t.target.id?0==this.python?(this.pythonFill="solid",this.python=1):(this.pythonFill="outline",this.python=0):"web"==t.target.id?0==this.web?(this.webFill="solid",this.web=1):(this.webFill="outline",this.web=0):"server"==t.target.id?0==this.server?(this.serverFill="solid",this.server=1):(this.serverFill="outline",this.server=0):"native"==t.target.id?0==this.native?(this.nativeFill="solid",this.native=1):(this.nativeFill="outline",this.native=0):"iot"==t.target.id&&(0==this.iot?(this.iotFill="solid",this.iot=1):(this.iotFill="outline",this.iot=0))}}ngOnInit(){this.route.params.subscribe(t=>{this.tab=t.tab,1==this.tab&&(this.tabFlag=!0)},t=>console.error(t))}alertPost(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(i){return new(i||t)(b.Hb(a.a),b.Hb(c.a),b.Hb(l.a),b.Hb(s.g),b.Hb(s.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-edit"]],decls:45,vars:9,consts:[["slot","start"],["id","back"],[1,"button-area","ion-padding"],["for","file-button","id","file-button-label"],["type","file","accept","image/*","id","file-button",3,"change"],[4,"ngIf"],["id","category-center",1,"ion-text-center","ion-padding-top"],[3,"click"],["id","ccpp","expand","block","color","ccpp-three",3,"fill"],["id","python","expand","block","color","python-three",3,"fill"],["id","web","expand","block","color","web-three",3,"fill"],["id","server","expand","block","color","server-three",3,"fill"],["id","native","expand","block","color","native-three",3,"fill"],["id","iot","expand","block","color","iot-three",3,"fill"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["id","post-article-button","type","submit","expand","block","color","base-green"],["id","image",3,"src"]],template:function(t,i){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-buttons",0),b.Ib(3,"ion-back-button",1),b.Jb(),b.Kb(4,"ion-title"),b.dc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),b.Jb(),b.Jb(),b.Jb(),b.Kb(6,"ion-content"),b.Kb(7,"div",2),b.Kb(8,"label",3),b.dc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),b.Jb(),b.Kb(10,"input",4),b.Rb("change",(function(t){return i.loadPicture(t)})),b.Jb(),b.Jb(),b.cc(11,h,2,1,"div",5),b.Kb(12,"div",6),b.dc(13," \u6295\u7a3f\u65e5\u8a8c\u306e\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 "),b.Jb(),b.Kb(14,"ion-grid",7),b.Rb("click",(function(t){return i.onGrid(t)})),b.Kb(15,"ion-row"),b.Kb(16,"ion-col"),b.Kb(17,"ion-button",8),b.dc(18,"C/C++"),b.Jb(),b.Jb(),b.Kb(19,"ion-col"),b.Kb(20,"ion-button",9),b.dc(21,"Python"),b.Jb(),b.Jb(),b.Kb(22,"ion-col"),b.Kb(23,"ion-button",10),b.dc(24,"Web\u7cfb"),b.Jb(),b.Jb(),b.Jb(),b.Kb(25,"ion-row"),b.Kb(26,"ion-col"),b.Kb(27,"ion-button",11),b.dc(28,"Server"),b.Jb(),b.Jb(),b.Kb(29,"ion-col"),b.Kb(30,"ion-button",12),b.dc(31,"\u30cd\u30a4\u30c6\u30a3\u30d6"),b.Jb(),b.Jb(),b.Kb(32,"ion-col"),b.Kb(33,"ion-button",13),b.dc(34,"IoT"),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(35,"form",14),b.Rb("submit",(function(){return i.postArticle()})),b.Kb(36,"ion-item"),b.Kb(37,"ion-label",15),b.dc(38,"\u30bf\u30a4\u30c8\u30eb"),b.Jb(),b.Kb(39,"ion-input",16),b.Rb("ngModelChange",(function(t){return i.title=t})),b.Jb(),b.Kb(40,"ion-label",15),b.dc(41,"\u672c\u6587"),b.Jb(),b.Kb(42,"ion-textarea",17),b.Rb("ngModelChange",(function(t){return i.text=t})),b.Jb(),b.Jb(),b.Kb(43,"ion-button",18),b.dc(44,"\u6295\u7a3f\u3059\u308b"),b.Jb(),b.Jb(),b.Jb()),2&t&&(b.xb(11),b.Wb("ngIf",i.imageFlag),b.xb(6),b.Wb("fill",i.ccppFill),b.xb(3),b.Wb("fill",i.pythonFill),b.xb(3),b.Wb("fill",i.webFill),b.xb(4),b.Wb("fill",i.serverFill),b.xb(3),b.Wb("fill",i.nativeFill),b.xb(3),b.Wb("fill",i.iotFill),b.xb(6),b.Wb("ngModel",i.title),b.xb(3),b.Wb("ngModel",i.text))},directives:[l.q,l.F,l.f,l.c,l.d,l.E,l.m,o.i,l.p,l.x,l.l,l.e,n.i,n.e,n.f,l.u,l.v,l.t,l.M,n.h,n.d,n.g,l.D,l.s],styles:["#file-button-label[_ngcontent-%COMP%]{text-align:center;font-size:1em;color:#000;background-color:#cbf266;border-radius:10px;padding:12px 30px;display:block;margin-left:auto;margin-right:auto;width:100%}#file-button[_ngcontent-%COMP%]{display:none}#image[_ngcontent-%COMP%]{height:200px}#post-article-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}#category-center[_ngcontent-%COMP%]{font-size:1em;font-weight:700}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(d)],s.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[o.b,n.a,l.G,g]]}),t})()}}]);