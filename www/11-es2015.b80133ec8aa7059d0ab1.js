(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{zFnc:function(t,i,e){"use strict";e.r(i),e.d(i,"EditPageModule",(function(){return g}));var o=e("ofXK"),n=e("3Pt+"),s=e("TEn/"),l=e("tyNb"),b=e("mrSG"),r=e("fXoL"),h=e("dVwY"),a=e("Bfh1");function c(t,i){if(1&t&&(r.Mb(0,"div"),r.Ib(1,"ion-img",19),r.Lb()),2&t){const t=r.Vb();r.xb(1),r.Yb("src",t.image)}}const p=[{path:"",component:(()=>{class t{constructor(t,i,e,o,n){this.gs=t,this.geolocation=i,this.alertController=e,this.router=o,this.route=n,this.imageFlag=!1,this.imgHeight=600,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.ccpp=0,this.python=0,this.web=0,this.server=0,this.native=0,this.iot=0,this.ccppFill="outline",this.pythonFill="outline",this.webFill="outline",this.serverFill="outline",this.nativeFill="outline",this.iotFill="outline",this.loadPicture=t=>{console.log(t);var i=t.srcElement.files[0],e=new FileReader,o=new Image;e.onloadend=()=>{o.onload=()=>{console.log("Image Processing");const t=o.src.substring(5,o.src.indexOf(";")),i=o.width*(this.imgHeight/o.height),e=document.createElement("canvas");e.width=i,e.height=this.imgHeight,e.getContext("2d").drawImage(o,0,0,i,this.imgHeight),this.image=e.toDataURL(t),console.log(this.image)},o.src=e.result,this.imageFlag=!0},i&&e.readAsDataURL(i)},this.postArticle=()=>{this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.postObj.id=localStorage.id,this.postObj.article_id=this.article_id,this.postObj.prefecture=localStorage.prefecture,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.postObj.title=this.title,this.postObj.text=this.text,this.postObj.image=this.image;var i=0;this.imageFlag&&(i=1),this.postObj.image_check=i,this.postObj.ccpp=this.ccpp,this.postObj.python=this.python,this.postObj.web=this.web,this.postObj.server=this.server,this.postObj.native=this.native,this.postObj.iot=this.iot,this.postObj.attribute=localStorage.attribute,this.postObj.hash=localStorage.hash,this.gs.http("https://kn46itblog.com/hackathon/winter2020/php_apis/registerDiaryArticle.php",this.postObj).subscribe(t=>{console.log(t),this.navigate(),this.alertPost()},t=>console.error(t))},t=>console.error(t))},this.navigate=()=>{this.router.navigate(["/tabs","tab"+this.tab,"edited"])},this.onGrid=t=>{console.log("ON GRID!!"),"ccpp"==t.target.id?0==this.ccpp?(this.ccppFill="solid",this.ccpp=1):(this.ccppFill="outline",this.ccpp=0):"python"==t.target.id?0==this.python?(this.pythonFill="solid",this.python=1):(this.pythonFill="outline",this.python=0):"web"==t.target.id?0==this.web?(this.webFill="solid",this.web=1):(this.webFill="outline",this.web=0):"server"==t.target.id?0==this.server?(this.serverFill="solid",this.server=1):(this.serverFill="outline",this.server=0):"native"==t.target.id?0==this.native?(this.nativeFill="solid",this.native=1):(this.nativeFill="outline",this.native=0):"iot"==t.target.id&&(0==this.iot?(this.iotFill="solid",this.iot=1):(this.iotFill="outline",this.iot=0))}}ngOnInit(){this.route.params.subscribe(t=>{this.tab=t.tab},t=>console.error(t))}alertPost(){return Object(b.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(i){return new(i||t)(r.Hb(h.a),r.Hb(a.a),r.Hb(s.a),r.Hb(l.g),r.Hb(l.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-edit"]],decls:45,vars:9,consts:[["slot","start"],["id","back"],[1,"button-area","ion-padding"],["for","file-button","id","file-button-label"],["type","file","accept","image/*","id","file-button",3,"change"],[4,"ngIf"],["id","category-center",1,"ion-text-center","ion-padding-top"],[3,"click"],["id","ccpp","expand","block","color","ccpp-three",3,"fill"],["id","python","expand","block","color","python-three",3,"fill"],["id","web","expand","block","color","web-three",3,"fill"],["id","server","expand","block","color","server-three",3,"fill"],["id","native","expand","block","color","native-three",3,"fill"],["id","iot","expand","block","color","iot-three",3,"fill"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["id","post-article-button","type","submit","expand","block","color","base-green"],["id","image",3,"src"]],template:function(t,i){1&t&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-buttons",0),r.Ib(3,"ion-back-button",1),r.Lb(),r.Mb(4,"ion-title"),r.hc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),r.Lb(),r.Lb(),r.Lb(),r.Mb(6,"ion-content"),r.Mb(7,"div",2),r.Mb(8,"label",3),r.hc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),r.Lb(),r.Mb(10,"input",4),r.Tb("change",(function(t){return i.loadPicture(t)})),r.Lb(),r.Lb(),r.gc(11,c,2,1,"div",5),r.Mb(12,"div",6),r.hc(13," \u6295\u7a3f\u65e5\u8a8c\u306e\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 "),r.Lb(),r.Mb(14,"ion-grid",7),r.Tb("click",(function(t){return i.onGrid(t)})),r.Mb(15,"ion-row"),r.Mb(16,"ion-col"),r.Mb(17,"ion-button",8),r.hc(18,"C/C++"),r.Lb(),r.Lb(),r.Mb(19,"ion-col"),r.Mb(20,"ion-button",9),r.hc(21,"Python"),r.Lb(),r.Lb(),r.Mb(22,"ion-col"),r.Mb(23,"ion-button",10),r.hc(24,"Web\u7cfb"),r.Lb(),r.Lb(),r.Lb(),r.Mb(25,"ion-row"),r.Mb(26,"ion-col"),r.Mb(27,"ion-button",11),r.hc(28,"Server"),r.Lb(),r.Lb(),r.Mb(29,"ion-col"),r.Mb(30,"ion-button",12),r.hc(31,"\u30cd\u30a4\u30c6\u30a3\u30d6"),r.Lb(),r.Lb(),r.Mb(32,"ion-col"),r.Mb(33,"ion-button",13),r.hc(34,"IoT"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(35,"form",14),r.Tb("submit",(function(){return i.postArticle()})),r.Mb(36,"ion-item"),r.Mb(37,"ion-label",15),r.hc(38,"\u30bf\u30a4\u30c8\u30eb"),r.Lb(),r.Mb(39,"ion-input",16),r.Tb("ngModelChange",(function(t){return i.title=t})),r.Lb(),r.Mb(40,"ion-label",15),r.hc(41,"\u672c\u6587"),r.Lb(),r.Mb(42,"ion-textarea",17),r.Tb("ngModelChange",(function(t){return i.text=t})),r.Lb(),r.Lb(),r.Mb(43,"ion-button",18),r.hc(44,"\u6295\u7a3f\u3059\u308b"),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.xb(11),r.Yb("ngIf",i.imageFlag),r.xb(6),r.Yb("fill",i.ccppFill),r.xb(3),r.Yb("fill",i.pythonFill),r.xb(3),r.Yb("fill",i.webFill),r.xb(4),r.Yb("fill",i.serverFill),r.xb(3),r.Yb("fill",i.nativeFill),r.xb(3),r.Yb("fill",i.iotFill),r.xb(6),r.Yb("ngModel",i.title),r.xb(3),r.Yb("ngModel",i.text))},directives:[s.q,s.F,s.f,s.c,s.d,s.E,s.m,o.i,s.p,s.x,s.l,s.e,n.i,n.e,n.f,s.u,s.v,s.t,s.M,n.h,n.d,n.g,s.D,s.s],styles:["#file-button-label[_ngcontent-%COMP%]{text-align:center;font-size:1em;color:#000;background-color:#cbf266;border-radius:10px;padding:12px 30px;display:block;margin-left:auto;margin-right:auto;width:100%}#file-button[_ngcontent-%COMP%]{display:none}#image[_ngcontent-%COMP%]{height:300px}#post-article-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}#category-center[_ngcontent-%COMP%]{font-size:1em;font-weight:700}"]}),t})()}];let d=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[l.i.forChild(p)],l.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[o.b,n.a,s.G,d]]}),t})()}}]);