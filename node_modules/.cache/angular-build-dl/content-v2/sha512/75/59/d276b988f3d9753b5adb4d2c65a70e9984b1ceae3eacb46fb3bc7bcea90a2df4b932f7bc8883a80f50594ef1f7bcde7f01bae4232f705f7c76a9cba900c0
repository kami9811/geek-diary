!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{zFnc:function(n,i,o){"use strict";o.r(i),o.d(i,"EditPageModule",(function(){return O}));var r=o("ofXK"),a=o("3Pt+"),c=o("TEn/"),b=o("tyNb"),s=o("mrSG"),u=o("fXoL"),l=o("a/9d"),d=o("dVwY"),p=o("Bfh1"),f=o("M2ZX");function g(t,e){if(1&t&&(u.Kb(0,"div"),u.Ib(1,"ion-img",10),u.Jb()),2&t){var n=u.Tb();u.xb(1),u.Wb("src",n.image)}}var h,m,y,J=[{path:"",component:(h=function(){function n(e,i,o,r,a,c,b){var s=this;t(this,n),this.camera=e,this.gs=i,this.geolocation=o,this.alertController=r,this.router=a,this.route=c,this.nativeStorage=b,this.imageFlag=!1,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.takePicture=function(){s.camera.getPicture({quality:10,destinationType:s.camera.DestinationType.DATA_URL,sourceType:s.camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!0,encodingType:s.camera.EncodingType.JPEG,mediaType:s.camera.MediaType.PICTURE}).then((function(t){s.image="data:image/jpeg;base64,"+t,s.imageFlag=!0}),(function(t){console.log("Camera issue:"+t)}))},this.postArticle=function(){s.geolocation.getCurrentPosition().then((function(t){s.latitude=t.coords.latitude,s.longitude=t.coords.longitude,s.nativeStorage.getItem("login").then((function(t){s.postObj.id=t.id,s.postObj.article_id=s.article_id,s.postObj.prefecture=t.prefecture,s.postObj.latitude=s.latitude,s.postObj.longitude=s.longitude,s.postObj.title=s.title,s.postObj.text=s.text,s.postObj.image=s.image,s.postObj.hash=t.hash,s.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",s.postObj).subscribe((function(t){console.log(t),s.alertPost()}),(function(t){return console.error(t)}))}))}),(function(t){return console.error(t)}))}}var i,o,r;return i=n,(o=[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.tab=e.tab}),(function(t){return console.error(t)}))}},{key:"alertPost",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}}])&&e(i.prototype,o),r&&e(i,r),n}(),h.\u0275fac=function(t){return new(t||h)(u.Hb(l.a),u.Hb(d.a),u.Hb(p.a),u.Hb(c.a),u.Hb(b.g),u.Hb(b.a),u.Hb(f.a))},h.\u0275cmp=u.Bb({type:h,selectors:[["app-edit"]],decls:31,vars:3,consts:[["slot","start"],["id","back"],[1,"button-area"],["type","submit","id","file-button",3,"click"],[4,"ngIf"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["type","submit","id","post-article-button"],["id","image",3,"src"]],template:function(t,e){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-buttons",0),u.Ib(3,"ion-back-button",1),u.Jb(),u.Kb(4,"ion-title"),u.cc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.Kb(7,"div",2),u.Kb(8,"button",3),u.Rb("click",(function(){return e.takePicture()})),u.cc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),u.Jb(),u.Jb(),u.bc(10,g,2,1,"div",4),u.Kb(11,"ion-card"),u.Kb(12,"ion-card-content"),u.cc(13,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[1]: RECOMMEND1"),u.Jb(),u.Jb(),u.Kb(14,"ion-card"),u.Kb(15,"ion-card-content"),u.cc(16,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[2]: RECOMMEND2"),u.Jb(),u.Jb(),u.Kb(17,"ion-card"),u.Kb(18,"ion-card-content"),u.cc(19,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[3]: RECOMMEND3"),u.Jb(),u.Jb(),u.Kb(20,"form",5),u.Rb("submit",(function(){return e.postArticle()})),u.Kb(21,"ion-item"),u.Kb(22,"ion-label",6),u.cc(23,"\u30bf\u30a4\u30c8\u30eb"),u.Jb(),u.Kb(24,"ion-input",7),u.Rb("ngModelChange",(function(t){return e.title=t})),u.Jb(),u.Kb(25,"ion-label",6),u.cc(26,"\u65e5\u8a8c\u306e\u672c\u6587"),u.Jb(),u.Kb(27,"ion-textarea",8),u.Rb("ngModelChange",(function(t){return e.text=t})),u.Jb(),u.Jb(),u.Kb(28,"div",2),u.Kb(29,"button",9),u.cc(30,"\u30b3\u30e1\u30f3\u30c8\u3092\u6295\u7a3f\u3059\u308b"),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&t&&(u.xb(10),u.Wb("ngIf",e.imageFlag),u.xb(14),u.Wb("ngModel",e.title),u.xb(3),u.Wb("ngModel",e.text))},directives:[c.n,c.B,c.e,c.c,c.d,c.A,c.k,r.i,c.f,c.g,a.i,a.e,a.f,c.r,c.s,c.q,c.H,a.h,a.d,a.g,c.z,c.p],styles:["#file-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}.button-area[_ngcontent-%COMP%]{text-align:center}#post-article-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}"]}),h)}],K=((y=function e(){t(this,e)}).\u0275mod=u.Fb({type:y}),y.\u0275inj=u.Eb({factory:function(t){return new(t||y)},imports:[[b.i.forChild(J)],b.i]}),y),O=((m=function e(){t(this,e)}).\u0275mod=u.Fb({type:m}),m.\u0275inj=u.Eb({factory:function(t){return new(t||m)},imports:[[r.b,a.a,c.C,K]]}),m)}}])}();