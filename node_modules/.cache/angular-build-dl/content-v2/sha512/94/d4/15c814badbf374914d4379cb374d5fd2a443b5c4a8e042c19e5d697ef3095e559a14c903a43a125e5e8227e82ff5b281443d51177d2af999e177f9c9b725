(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{zFnc:function(t,e,i){"use strict";i.r(e),i.d(e,"EditPageModule",(function(){return f}));var o=i("ofXK"),n=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),a=i("mrSG"),b=i("fXoL"),c=i("a/9d"),l=i("dVwY"),d=i("Bfh1"),u=i("M2ZX");function h(t,e){if(1&t&&(b.Kb(0,"div"),b.Ib(1,"ion-img",10),b.Jb()),2&t){const t=b.Tb();b.xb(1),b.Wb("src",t.image)}}const p=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,s,r){this.camera=t,this.gs=e,this.geolocation=i,this.alertController=o,this.router=n,this.route=s,this.nativeStorage=r,this.imageFlag=!1,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.takePicture=()=>{this.camera.getPicture({quality:10,destinationType:this.camera.DestinationType.DATA_URL,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!0,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(t=>{this.image="data:image/jpeg;base64,"+t,this.imageFlag=!0},t=>{console.log("Camera issue:"+t)})},this.postArticle=()=>{this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.nativeStorage.getItem("login").then(t=>{this.postObj.id=t.id,this.postObj.article_id=this.article_id,this.postObj.prefecture=t.prefecture,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.postObj.title=this.title,this.postObj.text=this.text,this.postObj.image=this.image,this.postObj.hash=t.hash,this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",this.postObj).subscribe(t=>{console.log(t),this.alertPost()},t=>console.error(t))})},t=>console.error(t))}}ngOnInit(){this.route.params.subscribe(t=>{this.tab=t.tab},t=>console.error(t))}alertPost(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(c.a),b.Hb(l.a),b.Hb(d.a),b.Hb(s.a),b.Hb(r.g),b.Hb(r.a),b.Hb(u.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-edit"]],decls:31,vars:3,consts:[["slot","start"],["id","back"],[1,"button-area"],["type","submit","id","file-button",3,"click"],[4,"ngIf"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],["type","submit","id","post-article-button"],["id","image",3,"src"]],template:function(t,e){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-buttons",0),b.Ib(3,"ion-back-button",1),b.Jb(),b.Kb(4,"ion-title"),b.cc(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),b.Jb(),b.Jb(),b.Jb(),b.Kb(6,"ion-content"),b.Kb(7,"div",2),b.Kb(8,"button",3),b.Rb("click",(function(){return e.takePicture()})),b.cc(9,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),b.Jb(),b.Jb(),b.bc(10,h,2,1,"div",4),b.Kb(11,"ion-card"),b.Kb(12,"ion-card-content"),b.cc(13,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[1]: RECOMMEND1"),b.Jb(),b.Jb(),b.Kb(14,"ion-card"),b.Kb(15,"ion-card-content"),b.cc(16,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[2]: RECOMMEND2"),b.Jb(),b.Jb(),b.Kb(17,"ion-card"),b.Kb(18,"ion-card-content"),b.cc(19,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[3]: RECOMMEND3"),b.Jb(),b.Jb(),b.Kb(20,"form",5),b.Rb("submit",(function(){return e.postArticle()})),b.Kb(21,"ion-item"),b.Kb(22,"ion-label",6),b.cc(23,"\u30bf\u30a4\u30c8\u30eb"),b.Jb(),b.Kb(24,"ion-input",7),b.Rb("ngModelChange",(function(t){return e.title=t})),b.Jb(),b.Kb(25,"ion-label",6),b.cc(26,"\u65e5\u8a8c\u306e\u672c\u6587"),b.Jb(),b.Kb(27,"ion-textarea",8),b.Rb("ngModelChange",(function(t){return e.text=t})),b.Jb(),b.Jb(),b.Kb(28,"div",2),b.Kb(29,"button",9),b.cc(30,"\u30b3\u30e1\u30f3\u30c8\u3092\u6295\u7a3f\u3059\u308b"),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&t&&(b.xb(10),b.Wb("ngIf",e.imageFlag),b.xb(14),b.Wb("ngModel",e.title),b.xb(3),b.Wb("ngModel",e.text))},directives:[s.n,s.B,s.e,s.c,s.d,s.A,s.k,o.i,s.f,s.g,n.i,n.e,n.f,s.r,s.s,s.q,s.H,n.h,n.d,n.g,s.z,s.p],styles:["#file-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}.button-area[_ngcontent-%COMP%]{text-align:center}#post-article-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(p)],r.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[o.b,n.a,s.C,g]]}),t})()}}]);