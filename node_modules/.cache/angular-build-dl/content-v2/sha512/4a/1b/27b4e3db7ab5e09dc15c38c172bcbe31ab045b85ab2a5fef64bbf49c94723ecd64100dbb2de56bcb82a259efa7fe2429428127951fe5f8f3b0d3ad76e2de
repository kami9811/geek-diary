(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{tmrb:function(t,o,i){"use strict";i.r(o),i.d(o,"Tab1PageModule",(function(){return f}));var e=i("TEn/"),s=i("ofXK"),n=i("3Pt+"),r=i("qtYk"),a=i("tyNb"),c=i("mrSG"),l=i("fXoL"),h=i("Bfh1"),b=i("M2ZX"),u=i("dVwY");function d(t,o){if(1&t&&(l.Kb(0,"ion-card"),l.Kb(1,"ion-card-header"),l.Kb(2,"ion-card-subtitle"),l.ac(3),l.Jb(),l.Kb(4,"ion-card-title"),l.ac(5),l.Jb(),l.Jb(),l.Jb()),2&t){const t=o.$implicit;l.xb(3),l.cc("",t.id,"\u3055\u3093\u306e\u6295\u7a3f"),l.xb(2),l.bc(t.title)}}const g=[{path:"",component:(()=>{class t{constructor(t,o,i,e,s){this.geolocation=t,this.alertController=o,this.router=i,this.nativeStorage=e,this.gs=s,this.latitude=0,this.longitude=0,this.postObj={},this.returnObj={},this.articleObj={},this.onGps=()=>{this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.alertGps()}).catch(t=>{console.log("Error getting location",t)})}}ngOnInit(){this.nativeStorage.getItem("login").then(t=>{console.log(t),this.postObj.id=t.id,this.postObj.password=t.password,this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/login.php",this.postObj).subscribe(o=>{this.returnObj=o,200==this.returnObj.status?(this.nativeStorage.setItem("login",{id:t.id,prefecture:t.prefecture,password:t.password,hash:this.returnObj.hash}).then(()=>console.log("Auto login successed!"),t=>console.error(t)),this.geolocation.getCurrentPosition().then(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.postObj.hash=this.returnObj.hash,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/getDiaryArticle.php",this.postObj).subscribe(t=>{console.log(t),this.articleObj=t},t=>console.error(t))}).catch(t=>{console.log("Error getting location",t)})):this.router.navigate(["/login"])},t=>console.error(t))},t=>{console.error(t),this.router.navigate(["/login"])})}alertGps(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"\u5ea7\u6a19\u304c\u89b3\u6e2c\u3055\u308c\u307e\u3057\u305f",message:"\u7def\u5ea6: "+this.latitude+"<br>\u7d4c\u5ea6: "+this.longitude,buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(o){return new(o||t)(l.Hb(h.a),l.Hb(e.a),l.Hb(a.g),l.Hb(b.a),l.Hb(u.a))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-tab1"]],decls:6,vars:3,consts:[[3,"translucent"],["id","icon","src","../../assets/icon/icon.png"],[3,"fullscreen"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-title"),l.Ib(3,"ion-img",1),l.Jb(),l.Jb(),l.Jb(),l.Kb(4,"ion-content",2),l.Zb(5,d,6,2,"ion-card",3),l.Jb()),2&t&&(l.Vb("translucent",!0),l.xb(4),l.Vb("fullscreen",!0),l.xb(1),l.Vb("ngForOf",o.articleObj.article_list))},directives:[e.k,e.x,e.w,e.m,e.j,s.h,e.f,e.g,e.h,e.i],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(o){return new(o||t)},imports:[[a.i.forChild(g)],a.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(o){return new(o||t)},imports:[[e.y,s.b,n.a,r.a,p]]}),t})()}}]);