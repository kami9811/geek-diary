!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{zFnc:function(n,i,o){"use strict";o.r(i),o.d(i,"EditPageModule",(function(){return O}));var r=o("ofXK"),a=o("3Pt+"),c=o("TEn/"),b=o("tyNb"),s=o("mrSG"),u=o("fXoL"),l=o("a/9d"),d=o("dVwY"),f=o("Bfh1"),p=o("M2ZX");function g(t,e){if(1&t&&(u.Kb(0,"div"),u.Ib(1,"ion-img",10),u.Jb()),2&t){var n=u.Ub(2);u.xb(1),u.Xb("src",n.image)}}function h(t,e){if(1&t){var n=u.Lb();u.Kb(0,"div"),u.Kb(1,"div",7),u.Kb(2,"button",9),u.Sb("click",(function(){return u.ac(n),u.Ub().takePicture()})),u.ec(3,"\u65e5\u8a8c\u306e\u5199\u771f\u3092\u9078\u629e"),u.Jb(),u.Jb(),u.dc(4,g,2,1,"div",2),u.Kb(5,"ion-card"),u.Kb(6,"ion-card-content"),u.ec(7,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[1]: RECOMMEND1"),u.Jb(),u.Jb(),u.Kb(8,"ion-card"),u.Kb(9,"ion-card-content"),u.ec(10,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[2]: RECOMMEND2"),u.Jb(),u.Jb(),u.Kb(11,"ion-card"),u.Kb(12,"ion-card-content"),u.ec(13,"\u6b21\u306e\u30aa\u30b9\u30b9\u30e1\u306e\u6587[3]: RECOMMEND3"),u.Jb(),u.Jb(),u.Jb()}if(2&t){var i=u.Ub();u.xb(4),u.Xb("ngIf",i.imageFlag)}}var m,v,y,J=[{path:"",component:(m=function(){function n(e,i,o,r,a,c,b){var s=this;t(this,n),this.camera=e,this.gs=i,this.geolocation=o,this.alertController=r,this.router=a,this.route=c,this.nativeStorage=b,this.imageFlag=!1,this.title="",this.text="",this.article_id=0,this.postObj={},this.returnObj={},this.tabFlag=!1,this.takePicture=function(){s.camera.getPicture({quality:10,destinationType:s.camera.DestinationType.DATA_URL,sourceType:s.camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!0,encodingType:s.camera.EncodingType.JPEG,mediaType:s.camera.MediaType.PICTURE}).then((function(t){s.image="data:image/jpeg;base64,"+t,s.imageFlag=!0}),(function(t){console.log("Camera issue:"+t)}))},this.postArticle=function(){s.geolocation.getCurrentPosition().then((function(t){s.latitude=t.coords.latitude,s.longitude=t.coords.longitude,s.nativeStorage.getItem("login").then((function(t){s.postObj.id=t.id,s.postObj.article_id=s.article_id,s.postObj.prefecture=t.prefecture,s.postObj.latitude=s.latitude,s.postObj.longitude=s.longitude,s.postObj.title=s.title,s.postObj.text=s.text,s.postObj.image=s.image,s.postObj.hash=t.hash,s.gs.http("https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php",s.postObj).subscribe((function(t){console.log(t),s.alertPost()}),(function(t){return console.error(t)}))}))}),(function(t){return console.error(t)}))}}var i,o,r;return i=n,(o=[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.tab=e.tab,1==t.tab&&(t.tabFlag=!0)}),(function(t){return console.error(t)}))}},{key:"alertPost",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:"\u65e5\u8a8c\u304c\u6295\u7a3f\u3055\u308c\u307e\u3057\u305f",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}}])&&e(i.prototype,o),r&&e(i,r),n}(),m.\u0275fac=function(t){return new(t||m)(u.Hb(l.a),u.Hb(d.a),u.Hb(f.a),u.Hb(c.a),u.Hb(b.g),u.Hb(b.a),u.Hb(p.a))},m.\u0275cmp=u.Bb({type:m,selectors:[["app-edit"]],decls:19,vars:3,consts:[["slot","start"],["id","back"],[4,"ngIf"],[3,"submit"],["position","floating"],["required","","type","text","name","title",3,"ngModel","ngModelChange"],["name","text",3,"ngModel","ngModelChange"],[1,"button-area"],["type","submit","id","post-article-button"],["type","submit","id","file-button",3,"click"],["id","image",3,"src"]],template:function(t,e){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-buttons",0),u.Ib(3,"ion-back-button",1),u.Jb(),u.Kb(4,"ion-title"),u.ec(5,"\u7de8\u96c6\u30da\u30fc\u30b8"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.dc(7,h,14,1,"div",2),u.Kb(8,"form",3),u.Sb("submit",(function(){return e.postArticle()})),u.Kb(9,"ion-item"),u.Kb(10,"ion-label",4),u.ec(11,"\u30bf\u30a4\u30c8\u30eb"),u.Jb(),u.Kb(12,"ion-input",5),u.Sb("ngModelChange",(function(t){return e.title=t})),u.Jb(),u.Kb(13,"ion-label",4),u.ec(14,"\u65e5\u8a8c\u306e\u672c\u6587"),u.Jb(),u.Kb(15,"ion-textarea",6),u.Sb("ngModelChange",(function(t){return e.text=t})),u.Jb(),u.Jb(),u.Kb(16,"div",7),u.Kb(17,"button",8),u.ec(18,"\u30b3\u30e1\u30f3\u30c8\u3092\u6295\u7a3f\u3059\u308b"),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&t&&(u.xb(7),u.Xb("ngIf",e.tabFlag),u.xb(5),u.Xb("ngModel",e.title),u.xb(3),u.Xb("ngModel",e.text))},directives:[c.n,c.B,c.e,c.c,c.d,c.A,c.k,r.i,a.i,a.e,a.f,c.r,c.s,c.q,c.H,a.h,a.d,a.g,c.z,c.f,c.g,c.p],styles:["#file-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}.button-area[_ngcontent-%COMP%]{text-align:center}#post-article-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}"]}),m)}],K=((y=function e(){t(this,e)}).\u0275mod=u.Fb({type:y}),y.\u0275inj=u.Eb({factory:function(t){return new(t||y)},imports:[[b.i.forChild(J)],b.i]}),y),O=((v=function e(){t(this,e)}).\u0275mod=u.Fb({type:v}),v.\u0275inj=u.Eb({factory:function(t){return new(t||v)},imports:[[r.b,a.a,c.C,K]]}),v)}}])}();