{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{zFnc:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"EditPageModule\",(function(){return edit_module_EditPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),ngx=__webpack_require__(\"a/9d\"),global_service=__webpack_require__(\"dVwY\"),_ivy_ngcc_ngx=__webpack_require__(\"Bfh1\"),native_storage_ivy_ngcc_ngx=__webpack_require__(\"M2ZX\");function EditPage_div_10_Template(rf,ctx){if(1&rf&&(core.Kb(0,\"div\"),core.Ib(1,\"ion-img\",10),core.Jb()),2&rf){const ctx_r0=core.Tb();core.xb(1),core.Wb(\"src\",ctx_r0.image)}}const routes=[{path:\"\",component:(()=>{class EditPage{constructor(camera,gs,geolocation,alertController,router,route,nativeStorage){this.camera=camera,this.gs=gs,this.geolocation=geolocation,this.alertController=alertController,this.router=router,this.route=route,this.nativeStorage=nativeStorage,this.imageFlag=!1,this.title=\"\",this.text=\"\",this.article_id=0,this.postObj={},this.returnObj={},this.takePicture=()=>{this.camera.getPicture({quality:10,destinationType:this.camera.DestinationType.DATA_URL,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!0,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(imageData=>{this.image=\"data:image/jpeg;base64,\"+imageData,this.imageFlag=!0},err=>{console.log(\"Camera issue:\"+err)})},this.postArticle=()=>{this.geolocation.getCurrentPosition().then(resp=>{this.latitude=resp.coords.latitude,this.longitude=resp.coords.longitude,this.nativeStorage.getItem(\"login\").then(data=>{this.postObj.id=data.id,this.postObj.article_id=this.article_id,this.postObj.prefecture=data.prefecture,this.postObj.latitude=this.latitude,this.postObj.longitude=this.longitude,this.postObj.title=this.title,this.postObj.text=this.text,this.postObj.image=this.image,this.postObj.hash=data.hash,this.gs.http(\"https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryArticle.php\",this.postObj).subscribe(res=>{console.log(res),this.alertPost()},error=>console.error(error))})},error=>console.error(error))}}ngOnInit(){this.route.params.subscribe(params=>{this.tab=params.tab},error=>console.error(error))}alertPost(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertController.create({message:\"日誌が投稿されました\",buttons:[\"OK\"]});yield alert.present()}))}}return EditPage.ɵfac=function(t){return new(t||EditPage)(core.Hb(ngx.a),core.Hb(global_service.a),core.Hb(_ivy_ngcc_ngx.a),core.Hb(ionic_angular.a),core.Hb(router.g),core.Hb(router.a),core.Hb(native_storage_ivy_ngcc_ngx.a))},EditPage.ɵcmp=core.Bb({type:EditPage,selectors:[[\"app-edit\"]],decls:31,vars:3,consts:[[\"slot\",\"start\"],[\"id\",\"back\"],[1,\"button-area\"],[\"type\",\"submit\",\"id\",\"file-button\",3,\"click\"],[4,\"ngIf\"],[3,\"submit\"],[\"position\",\"floating\"],[\"required\",\"\",\"type\",\"text\",\"name\",\"title\",3,\"ngModel\",\"ngModelChange\"],[\"name\",\"text\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"submit\",\"id\",\"post-article-button\"],[\"id\",\"image\",3,\"src\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-header\"),core.Kb(1,\"ion-toolbar\"),core.Kb(2,\"ion-buttons\",0),core.Ib(3,\"ion-back-button\",1),core.Jb(),core.Kb(4,\"ion-title\"),core.cc(5,\"編集ページ\"),core.Jb(),core.Jb(),core.Jb(),core.Kb(6,\"ion-content\"),core.Kb(7,\"div\",2),core.Kb(8,\"button\",3),core.Rb(\"click\",(function(){return ctx.takePicture()})),core.cc(9,\"日誌の写真を選択する\"),core.Jb(),core.Jb(),core.bc(10,EditPage_div_10_Template,2,1,\"div\",4),core.Kb(11,\"ion-card\"),core.Kb(12,\"ion-card-content\"),core.cc(13,\"次のオススメの文[1]: RECOMMEND1\"),core.Jb(),core.Jb(),core.Kb(14,\"ion-card\"),core.Kb(15,\"ion-card-content\"),core.cc(16,\"次のオススメの文[2]: RECOMMEND2\"),core.Jb(),core.Jb(),core.Kb(17,\"ion-card\"),core.Kb(18,\"ion-card-content\"),core.cc(19,\"次のオススメの文[3]: RECOMMEND3\"),core.Jb(),core.Jb(),core.Kb(20,\"form\",5),core.Rb(\"submit\",(function(){return ctx.postArticle()})),core.Kb(21,\"ion-item\"),core.Kb(22,\"ion-label\",6),core.cc(23,\"タイトル\"),core.Jb(),core.Kb(24,\"ion-input\",7),core.Rb(\"ngModelChange\",(function($event){return ctx.title=$event})),core.Jb(),core.Kb(25,\"ion-label\",6),core.cc(26,\"日誌の本文\"),core.Jb(),core.Kb(27,\"ion-textarea\",8),core.Rb(\"ngModelChange\",(function($event){return ctx.text=$event})),core.Jb(),core.Jb(),core.Kb(28,\"div\",2),core.Kb(29,\"button\",9),core.cc(30,\"コメントを投稿する\"),core.Jb(),core.Jb(),core.Jb(),core.Jb()),2&rf&&(core.xb(10),core.Wb(\"ngIf\",ctx.imageFlag),core.xb(14),core.Wb(\"ngModel\",ctx.title),core.xb(3),core.Wb(\"ngModel\",ctx.text))},directives:[ionic_angular.n,ionic_angular.B,ionic_angular.e,ionic_angular.c,ionic_angular.d,ionic_angular.A,ionic_angular.k,common.i,ionic_angular.f,ionic_angular.g,fesm2015_forms.i,fesm2015_forms.e,fesm2015_forms.f,ionic_angular.r,ionic_angular.s,ionic_angular.q,ionic_angular.H,fesm2015_forms.h,fesm2015_forms.d,fesm2015_forms.g,ionic_angular.z,ionic_angular.p],styles:[\"#file-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}.button-area[_ngcontent-%COMP%]{text-align:center}#post-article-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}\"]}),EditPage})()}];let edit_routing_module_EditPageRoutingModule=(()=>{class EditPageRoutingModule{}return EditPageRoutingModule.ɵmod=core.Fb({type:EditPageRoutingModule}),EditPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||EditPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),EditPageRoutingModule})(),edit_module_EditPageModule=(()=>{class EditPageModule{}return EditPageModule.ɵmod=core.Fb({type:EditPageModule}),EditPageModule.ɵinj=core.Eb({factory:function(t){return new(t||EditPageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.C,edit_routing_module_EditPageRoutingModule]]}),EditPageModule})()}}]);","extractedComments":[]}