{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{rZHr:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ArticlePageModule\",(function(){return article_module_ArticlePageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),global_service=__webpack_require__(\"dVwY\");function ArticlePage_div_13_Template(rf,ctx){if(1&rf&&(core.Kb(0,\"div\",10),core.Ib(1,\"ion-img\",11),core.Jb()),2&rf){const ctx_r0=core.Ub();core.xb(1),core.Xb(\"src\",ctx_r0.image)}}function ArticlePage_ion_card_16_Template(rf,ctx){if(1&rf&&(core.Kb(0,\"ion-card\",12),core.Kb(1,\"ion-card-header\"),core.Kb(2,\"ion-card-subtitle\"),core.gc(3),core.Jb(),core.Jb(),core.Kb(4,\"ion-card-content\"),core.gc(5),core.Jb(),core.Jb()),2&rf){const c_r2=ctx.$implicit;core.xb(3),core.ic(\"\",c_r2.id,\"さんの投稿\"),core.xb(2),core.hc(c_r2.text)}}const routes=[{path:\"\",component:(()=>{class ArticlePage{constructor(gs,router,route,alertController){this.gs=gs,this.router=router,this.route=route,this.alertController=alertController,this.postObj={},this.returnObj={},this.imageFlag=!1,this.comment=\"\",this.commentList=[],this.headerTitle=\"やらかし共有記事\",this.postComment=()=>{this.postObj.comment=this.comment;const body=this.postObj;1==this.tab||3==this.tab?this.gs.http(\"https://kn46itblog.com/hackathon/CCCu22/php_apis/registerDiaryComment.php\",body).subscribe(res=>{this.loadContents(),this.alertComment()},error=>console.error(error)):2==this.tab&&this.gs.http(\"https://kn46itblog.com/hackathon/CCCu22/php_apis/registerTipsComment.php\",body).subscribe(res=>{console.log(res),this.loadContents(),this.alertComment()},error=>console.error(error))},this.loadContents=()=>{this.postObj.id=localStorage.id,this.postObj.hash=localStorage.hash;const body=this.postObj;1!=this.tab&&3!=this.tab||this.gs.http(\"https://kn46itblog.com/hackathon/CCCu22/php_apis/getDiaryArticleContents.php\",body).subscribe(res=>{console.log(res),this.returnObj=res,this.image=this.returnObj.image,this.commentList=[];for(let i=0;i<this.returnObj.comment_num;i++)this.objWord=\"comment\"+(i+1),this.commentList.push(this.returnObj.comment_list[this.objWord]);console.log(this.commentList)},error=>console.error(error)),2==this.tab&&this.gs.http(\"https://kn46itblog.com/hackathon/CCCu22/php_apis/getTipsArticleContents.php\",body).subscribe(res=>{console.log(res),this.returnObj=res,this.image=this.returnObj.image,this.commentList=[];for(let i=0;i<this.returnObj.comment_num;i++)this.objWord=\"comment\"+(i+1),this.commentList.push(this.returnObj.comment_list[this.objWord]);console.log(this.commentList)},error=>console.error(error))}}ngOnInit(){this.route.params.subscribe(params=>{this.tab=params.tab,this.article_id=params.article_id,this.title=params.title,this.text=params.text,this.id=params.id}),1!=this.tab&&3!=this.tab||(this.imageFlag=!0,this.headerTitle=\"すまいる日誌\"),this.postObj.article_id=this.article_id,this.loadContents()}alertComment(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertController.create({header:\"コメント\",message:\"コメントが投稿されました\",buttons:[\"OK\"]});yield alert.present()}))}}return ArticlePage.ɵfac=function(t){return new(t||ArticlePage)(core.Hb(global_service.a),core.Hb(router.g),core.Hb(router.a),core.Hb(ionic_angular.a))},ArticlePage.ɵcmp=core.Bb({type:ArticlePage,selectors:[[\"app-article\"]],decls:25,vars:7,consts:[[\"slot\",\"start\"],[\"id\",\"back\"],[\"id\",\"image\",4,\"ngIf\"],[\"id\",\"text\"],[\"button\",\"true\",4,\"ngFor\",\"ngForOf\"],[3,\"submit\"],[\"position\",\"floating\"],[\"name\",\"comment\",3,\"ngModel\",\"ngModelChange\"],[\"id\",\"button-area\"],[\"type\",\"submit\",\"id\",\"post-comment-button\"],[\"id\",\"image\"],[3,\"src\"],[\"button\",\"true\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-header\"),core.Kb(1,\"ion-toolbar\"),core.Kb(2,\"ion-buttons\",0),core.Ib(3,\"ion-back-button\",1),core.Jb(),core.Kb(4,\"ion-title\"),core.gc(5),core.Jb(),core.Jb(),core.Jb(),core.Kb(6,\"ion-content\"),core.Kb(7,\"ion-card\"),core.Kb(8,\"ion-card-header\"),core.Kb(9,\"ion-card-subtitle\"),core.gc(10),core.Jb(),core.Kb(11,\"ion-card-title\"),core.gc(12),core.Jb(),core.Jb(),core.Jb(),core.fc(13,ArticlePage_div_13_Template,2,1,\"div\",2),core.Kb(14,\"div\",3),core.gc(15),core.Jb(),core.fc(16,ArticlePage_ion_card_16_Template,6,2,\"ion-card\",4),core.Kb(17,\"form\",5),core.Sb(\"submit\",(function(){return ctx.postComment()})),core.Kb(18,\"ion-item\"),core.Kb(19,\"ion-label\",6),core.gc(20,\"投稿コメント\"),core.Jb(),core.Kb(21,\"ion-textarea\",7),core.Sb(\"ngModelChange\",(function($event){return ctx.comment=$event})),core.Jb(),core.Jb(),core.Kb(22,\"div\",8),core.Kb(23,\"button\",9),core.gc(24,\"コメントを投稿する\"),core.Jb(),core.Jb(),core.Jb(),core.Jb()),2&rf&&(core.xb(5),core.hc(ctx.headerTitle),core.xb(5),core.ic(\"\",ctx.id,\"さんの投稿\"),core.xb(2),core.hc(ctx.title),core.xb(1),core.Xb(\"ngIf\",ctx.imageFlag),core.xb(2),core.hc(ctx.text),core.xb(1),core.Xb(\"ngForOf\",ctx.commentList),core.xb(5),core.Xb(\"ngModel\",ctx.comment))},directives:[ionic_angular.o,ionic_angular.C,ionic_angular.f,ionic_angular.c,ionic_angular.d,ionic_angular.B,ionic_angular.l,ionic_angular.g,ionic_angular.i,ionic_angular.j,ionic_angular.k,common.i,common.h,fesm2015_forms.i,fesm2015_forms.e,fesm2015_forms.f,ionic_angular.s,ionic_angular.t,ionic_angular.A,ionic_angular.I,fesm2015_forms.d,fesm2015_forms.g,ionic_angular.q,ionic_angular.h],styles:[\"#post-comment-button[_ngcontent-%COMP%]{font-size:2em;color:#fff;background-color:#cbf266;border-radius:5px;padding:10px 30px;width:80%}#button-area[_ngcontent-%COMP%]{text-align:center}#text[_ngcontent-%COMP%]{text-align:justify;margin:auto;width:90%}\"]}),ArticlePage})()}];let article_routing_module_ArticlePageRoutingModule=(()=>{class ArticlePageRoutingModule{}return ArticlePageRoutingModule.ɵmod=core.Fb({type:ArticlePageRoutingModule}),ArticlePageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||ArticlePageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ArticlePageRoutingModule})(),article_module_ArticlePageModule=(()=>{class ArticlePageModule{}return ArticlePageModule.ɵmod=core.Fb({type:ArticlePageModule}),ArticlePageModule.ɵinj=core.Eb({factory:function(t){return new(t||ArticlePageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.D,article_routing_module_ArticlePageRoutingModule]]}),ArticlePageModule})()}}]);","extractedComments":[]}